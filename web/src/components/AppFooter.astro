---
import {MC_VERSION} from 'shared';
import FontAwesomeIcon from './FontAwesomeIcon.astro';
import { faGithubAlt } from '@fortawesome/free-brands-svg-icons';

const {layout} = Astro.props;

---
<div class={['app-footer', 'layout-' + (layout ?? 'horizontal' )].join(' ')}>
	<div class="community-links">
		<div class="community-icon">
			<FontAwesomeIcon icon={faGithubAlt} />
		</div>
		<a href="https://github.com/AaronAsAChimp/block-game-tools" class="app-src">Source</a>
		<a href="https://github.com/AaronAsAChimp/block-game-tools/issues" class="app-issues">Issues</a>
	</div>
	<div class="version">Data and textures from Minecraft&nbsp;{ MC_VERSION }</div>
	<div class="disclaimer">NOT AN OFFICIAL MINECRAFT PRODUCT. NOT APPROVED BY OR ASSOCIATED WITH MOJANG.</div>
</div>
<style>
.app-footer {
	display: grid;
	gap: 2em;
	margin: 2em;
	align-items: center;
	color: color-mix(in srgb, var(--layer1-contrast-color), transparent 70%);
	grid-template-areas: "community version disc";
	grid-template-columns: auto 1fr 2fr;

	& .community-links {
		grid-area: community;
		display: grid;
		grid-template-areas:
			"icon srclink"
			"icon issuelink";
		align-items: center;
		grid-template-columns: 3.2em auto;
		column-gap: 1em;
	}

	& .community-links a {
		color: inherit;
		text-decoration: none;
		font-weight: bold;

		&:hover {
			color: color-mix(in srgb, var(--layer1-contrast-hover), transparent 50%);
		}
	}

	& .community-icon {
		grid-area: icon;
		font-size: 3.4em;
		line-height: 1;
		justify-self: center;
	}

	& .app-src {
		grid-area: srclink;
	}

	& .app-src {
		grid-area: issuelink;
	}

	& .version {
		grid-area: version;
		text-wrap: balance;
	}

	& .disclaimer {
		grid-area: disc;
	}
}

.app-footer.layout-vertical {
	grid-template-areas:
		"community version"
		"disc disc";
	grid-template-columns: none;
	gap: 1em;
}

</style>